/*! gridmanager - v0.3.1 - 2014-07-27
* http://neokoenig.github.io/jQuery-gridmanager/
* Copyright (c) 2014 Tom King; Licensed MIT */
!function(a){a.gridmanager=function(b,c){var d=this;d.$el=a(b),d.el=b,d.$el.data("gridmanager",d),d.appendHTMLSelectedCols=function(b){var c=d.$el.find("#"+d.options.canvasId),e=c.find(d.options.colSelector);a.each(e,function(){a(this).hasClass(d.options.gmEditClassSelected)&&a("."+d.options.gmEditRegion,this).append(b)})},d.init=function(){d.options=a.extend({},a.gridmanager.defaultOptions,c),d.log("INIT"),d.addCSS(d.options.cssInclude),d.rteControl("init"),d.createCanvas(),d.createControls(),d.initControls(),d.initDefaultButtons(),d.initCanvas(),d.log("FINISHED")},d.createCanvas=function(){d.log("+ Create Canvas");var b=d.$el.html();d.$el.html(""),a("<div/>",{id:d.options.canvasId,html:b}).appendTo(d.$el),d.options.addResponsiveClasses&&d.addResponsiveness(d.$el.find("#"+d.options.canvasId)),d.options.autoEdit&&d.initMarkup(d.$el.find("#"+d.options.canvasId).find("."+d.options.colClass).not("."+d.options.rowClass))},d.initMarkup=function(b){var c="<!--"+d.options.gmEditRegion+"-->",e="<!--/"+d.options.gmEditRegion+"-->";a.each(b,function(b,f){var g=!1,h=a(f).children().hasClass(d.options.rowClass);a.each(a(f).contents(),function(b,c){8===a(c)[0].nodeType&&(g=!0)}),g||(h?a.each(a(f).contents(),function(b,f){if(a(f).hasClass(d.options.rowClass)){var g=Array.prototype.reverse.call(a(f).prevUntil("."+d.options.rowClass)),h=a(f).nextUntil("."+d.options.rowClass);a(g).hasClass(d.options.gmEditRegion)||a(g).first().before(c).end().last().after(e),a(h).hasClass(d.options.gmEditRegion)||a(h).first().before(c).end().last().after(e)}}):0!==a(f).contents().length&&a(f).html(c+a(f).html()+e))}),d.log("initMarkup ran")},d.initDefaultButtons=function(){d.options.colSelectEnabled&&d.options.customControls.global_col.push({callback:d.selectColClick,loc:"top",iconClass:"fa fa-square-o",title:"Select Column"}),d.options.editableRegionEnabled&&d.options.customControls.global_col.push({callback:d.addEditableAreaClick,loc:"top",iconClass:"fa fa-edit",title:"Add Editable Region"})},d.addResponsiveness=function(b){if(""!==b){var c=d.options.colDesktopClass+"(\\d+)",e=d.options.colTabletClass+"(\\d+)",f=d.options.colPhoneClass+"(\\d+)",g=new RegExp(c,"i"),h=new RegExp(e,"i"),i=new RegExp(f,"i");return a(b).find(":regex(class,"+c+"|"+e+"|"+f+")").each(function(){var b=a(this).attr("class"),c=2,e=g.test(b),f=i.test(b),j=h.test(b);c=(c=g.exec(b))?c[1]:(c=h.exec(b))?c[1]:i.exec(b)[1],e||a(this).addClass(d.options.colDesktopClass+c),f||a(this).addClass(d.options.colPhoneClass+c),j||a(this).addClass(d.options.colTabletClass+c),d.options.addDefaultColumnClass&&(a(this).hasClass(d.options.colClass)||a(this).addClass(d.options.colClass))})}},d.createControls=function(){d.log("+ Create Controls");var b=[];a.each(d.options.controlButtons,function(a,c){var e=d.generateButtonClass(c);b.push("<a title='Add Row "+e+"' class='"+d.options.controlButtonClass+" add"+e+"'><span class='"+d.options.controlButtonSpanClass+"'></span> "+e+"</a>"),d.generateClickHandler(c)}),d.$el.prepend(a("<div/>",{id:d.options.controlId,"class":d.options.gmClearClass}).prepend(a("<div/>",{"class":d.options.rowClass}).html(a("<div/>",{"class":d.options.colDesktopClass+d.options.colMax}).addClass(d.options.colAdditionalClass).html(a("<div/>",{id:"gm-addnew"}).addClass(d.options.gmBtnGroup).addClass(d.options.gmFloatLeft).html(b.join(""))).append(d.options.controlAppend))))},d.addCSS=function(b){""!==b&&a('<link rel="stylesheet" href="'+b+'">').appendTo("head")},d.cleanSubstring=function(a,b,c){return b.replace(new RegExp(a,"g"),c)},d.switchLayoutMode=function(b){var c=d.$el.find("#"+d.options.canvasId),e=c.html(),f="",g="",h="";switch(e=d.cleanSubstring(d.options.classRenameSuffix,e,""),h=a("div.gm-layout-mode > button > span"),b){case 768:f="("+d.options.colDesktopClass+"\\d+)",g="("+d.options.colPhoneClass+"\\d+)",d.options.currentClassMode=d.options.colTabletClass,d.options.colSelector=d.options.colTabletSelector,a(h).attr("class","fa fa-tablet").attr("title","Tablet");break;case 640:f="("+d.options.colDesktopClass+"\\d+)",g="("+d.options.colTabletClass+"\\d+)",d.options.currentClassMode=d.options.colPhoneClass,d.options.colSelector=d.options.colPhoneSelector,a(h).attr("class","fa fa-mobile-phone").attr("title","Phone");break;default:f="("+d.options.colPhoneClass+"\\d+)",g="("+d.options.colTabletClass+"\\d+)",d.options.currentClassMode=d.options.colDesktopClass,d.options.colSelector=d.options.colDesktopSelector,a(h).attr("class","fa fa-desktop").attr("title","Desktop")}d.options.layoutDefaultMode=b,e=e.replace(new RegExp(f+'(?=[^"]*">)',"gm"),"$1"+d.options.classRenameSuffix),e=e.replace(new RegExp(g+'(?=[^"]*">)',"gm"),"$1"+d.options.classRenameSuffix),c.html(e)},d.initControls=function(){var b=d.$el.find("#"+d.options.canvasId);d.log("+ InitControls Running"),d.$el.on("click",".gm-preview",function(){d.status?(d.deinitCanvas(),a(this).parent().find(".gm-edit-mode").prop("disabled",!0)):(d.initCanvas(),a(this).parent().find(".gm-edit-mode").prop("disabled",!1)),a(this).toggleClass(d.options.gmDangerClass)}).on("click",".gm-layout-mode a",function(){d.switchLayoutMode(a(this).data("width"))}).on("click",".gm-edit-mode",function(){if("visual"===d.mode)d.deinitCanvas(),b.html(a("<textarea/>").attr("cols",130).attr("rows",25).val(b.html())),d.mode="html",a(this).parent().find(".gm-preview, .gm-layout-mode > button").prop("disabled",!0);else{var c=b.find("textarea").val();b.html(c),d.initCanvas(),d.mode="visual",a(this).parent().find(".gm-preview, .gm-layout-mode > button").prop("disabled",!1)}a(this).toggleClass(d.options.gmDangerClass)}).on("click","."+d.options.gmEditRegion+" ."+d.options.gmContentRegion,function(){a(this).attr("contenteditable")||(a(this).attr("contenteditable",!0),d.rteControl("attach",a(this)))}).on("click","a.gm-save",function(){d.deinitCanvas(),d.saveremote()}).on("click","a.gm-rowSettings",function(){var b=a(this).closest(d.options.rowSelector),c=b.find(".gm-rowSettingsDrawer");c.length>0?c.remove():b.prepend(d.generateRowSettings(b))}).on("blur","input.gm-rowSettingsID",function(){var b=a(this).closest(d.options.rowSelector);b.attr("id",a(this).val())}).on("click",".gm-toggleRowClass",function(){var b=a(this).closest(d.options.rowSelector),c=a(this).text().trim();b.toggleClass(c),b.hasClass(c)?a(this).addClass(d.options.gmDangerClass):a(this).removeClass(d.options.gmDangerClass)}).on("click","a.gm-colSettings",function(){var b=a(this).closest(d.options.colSelector),c=b.find(".gm-colSettingsDrawer");c.length>0?c.remove():b.prepend(d.generateColSettings(b))}).on("blur","input.gm-colSettingsID",function(){var b=a(this).closest(d.options.colSelector);b.attr("id",a(this).val())}).on("click",".gm-togglecolClass",function(){var b=a(this).closest(d.options.colSelector),c=a(this).text().trim();b.toggleClass(c),b.hasClass(c)?a(this).addClass(d.options.gmDangerClass):a(this).removeClass(d.options.gmDangerClass)}).on("click","a.gm-addColumn",function(){a(this).parent().after(d.createCol(2)),d.switchLayoutMode(d.options.layoutDefaultMode),d.reset()}).on("click","a.gm-addRow",function(){d.log("Adding nested row"),a(this).closest("."+d.options.gmEditClass).append(a("<div>").addClass(d.options.rowClass).html(d.createCol(6)).append(d.createCol(6))),d.reset()}).on("click","a.gm-colDecrease",function(){var b=a(this).closest("."+d.options.gmEditClass),c=d.getColClass(b);c.colWidth>parseInt(d.options.colResizeStep,10)&&(c.colWidth=parseInt(c.colWidth,10)-parseInt(d.options.colResizeStep,10),b.switchClass(c.colClass,d.options.currentClassMode+c.colWidth,200))}).on("click","a.gm-colIncrease",function(){var b=a(this).closest("."+d.options.gmEditClass),c=d.getColClass(b);c.colWidth<d.options.colMax&&(c.colWidth=parseInt(c.colWidth,10)+parseInt(d.options.colResizeStep,10),b.switchClass(c.colClass,d.options.currentClassMode+c.colWidth,200))}).on("click","a.gm-resetgrid",function(){b.html(""),d.reset()}).on("click","a.gm-removeCol",function(){a(this).closest("."+d.options.gmEditClass).animate({opacity:"hide",width:"hide",height:"hide"},400,function(){this.remove()}),d.log("Column Removed")}).on("click","a.gm-removeRow",function(){d.log(a(this).closest("."+d.options.colSelector)),a(this).closest("."+d.options.gmEditClass).animate({opacity:"hide",height:"hide"},400,function(){this.remove()}),d.log("Row Removed")}).on("click","a.gm-resetgrid, a.gm-remove, a.gm-removeRow, a.gm-save, button.gm-preview, a.gm-viewsource, a.gm-addColumn, a.gm-colDecrease, a.gm-colIncrease",function(b){d.log("Clicked: "+a.grep(this.className.split(" "),function(a){return 0===a.indexOf("gm-")}).join()),b.preventDefault()})},d.initGlobalCustomControls=function(){var b=d.$el.find("#"+d.options.canvasId),c=[],e="";a.each(["row","col"],function(f,g){"undefined"!=typeof d.options.customControls["global_"+g]&&(c=b.find(d.options[g+"Selector"]),a.each(d.options.customControls["global_"+g],function(b,f){"undefined"!=typeof f.callback&&("undefined"==typeof f.loc&&(f.loc="top"),"undefined"==typeof f.iconClass&&(f.iconClass="fa fa-file-code-o"),"undefined"==typeof f.btnLabel&&(f.btnLabel=""),"undefined"==typeof f.title&&(f.title=""),e="function"==typeof f.callback?b+"_btn":f.callback,btnObj={element:"a",btnClass:"gm-"+e,iconClass:f.iconClass,btnLabel:f.btnLabel,title:f.title},a.each(c,function(a,b){d.setupCustomBtn(b,f.loc,"window",f.callback,btnObj)}))}))})},d.initCustomControls=function(){var b=d.$el.find("#"+d.options.canvasId),c="",e="",f="",g="",h={},i="",j="";a("."+d.options.colClass+":data, ."+d.options.rowClass+":data",b).each(function(){for(prop in a(this).data())if(0===prop.indexOf("gmButton")){if(f=prop.replace("gmButton",""),c=a(this).data()[prop].split("|"),0===c.length||""===f)break;g="undefined"!=typeof c[3]?c[3]:"top",i="undefined"!=typeof c[2]?c[2]:"fa fa-file-code-o",j="undefined"!=typeof c[1]?c[1]:"",e=c[0],h={element:"a",btnClass:"gm-"+f,iconClass:i,btnLabel:j},d.setupCustomBtn(this,g,e,f,h);break}})},d.setupCustomBtn=function(b,c,e,f,g){var h=null;if("string"==typeof f)h=d.isValidCallback(e,f.toLowerCase());else{if("function"!=typeof f)return!1;h=f}return c="bottom"===c?":last":":first",a("."+d.options.gmToolClass+c,b).append(d.buttonFactory([g])).find(":last").on("click",function(a){h(b,this),a.preventDefault()}),!0},d.clearComments=function(b){a(b,"#"+d.options.canvasId).contents().filter(function(){return 8===this.nodeType}).remove()},d.isValidCallback=function(a,b){var c=null;if("window"===a){if("function"!=typeof window[b])return!1;c=window[b]}else{if("function"!=typeof window[a][b])return!1;c=window[a][b]}return c},d.getColClass=function(b){var c=a.grep(b.attr("class").split(" "),function(a){return 0===a.indexOf(d.options.currentClassMode)}).join(),e=c.replace(d.options.currentClassMode,"");return{colClass:c,colWidth:e}},d.runFilter=function(a,b){"function"==typeof d.options.filterCallback&&d.options.filterCallback(a,b),d.options.editableRegionEnabled&&d.editableAreaFilter(a,b)},d.initCanvas=function(){var b=d.$el.find("#"+d.options.canvasId);d.switchLayoutMode(d.options.layoutDefaultMode);var c=b.find(d.options.colSelector),e=b.find(d.options.rowSelector);d.log("+ InitCanvas Running"),d.$el.find("#gm-addnew").show(),d.activateRows(e),d.activateCols(c),d.runFilter(b,!0),c=b.find(d.options.colSelector),e=b.find(d.options.rowSelector),b.sortable({items:e,axis:"y",placeholder:d.options.rowSortingClass,handle:".gm-moveRow",forcePlaceholderSize:!0,opacity:.7,revert:!0,tolerance:"pointer",cursor:"move"}),a.each(e,function(b,c){a(c).sortable({items:a(c).find(d.options.colSelector),axis:"x",handle:".gm-moveCol",forcePlaceholderSize:!0,opacity:.7,revert:!0,tolerance:"pointer",containment:a(c),cursor:"move"})}),d.status=!0,d.mode="visual",d.initCustomControls(),d.initGlobalCustomControls(),d.initNewContentElem()},d.deinitCanvas=function(){var a=d.$el.find("#"+d.options.canvasId),b=a.find(d.options.colSelector),c=a.find(d.options.rowSelector);d.log("- deInitCanvas Running"),d.$el.find("#gm-addnew").hide(),d.deactivateRows(c),d.deactivateCols(b),d.cleanup(),d.runFilter(a,!1),d.status=!1},d.saveremote=function(){var b=d.$el.find("#"+d.options.canvasId);a.ajax({type:"POST",url:d.options.remoteURL,data:{content:b.html()}}),d.log("Save Function Called")},d.activateRows=function(a){d.log("++ Activate Rows"),a.addClass(d.options.gmEditClass).prepend(d.toolFactory(d.options.rowButtonsPrepend)).append(d.toolFactory(d.options.rowButtonsAppend))},d.deactivateRows=function(a){d.log("-- DeActivate Rows"),a.removeClass(d.options.gmEditClass).removeClass("ui-sortable").removeAttr("style")},d.createRow=function(b){var c=a("<div/>",{"class":d.options.rowClass+" "+d.options.gmEditClass});return a.each(b,function(a,b){c.append(d.createCol(b))}),d.log("++ Created Row"),c},d.generateRowSettings=function(b){var c=[];a.each(d.options.rowCustomClasses,function(e,f){var g=a("<button/>").addClass("gm-toggleRowClass").addClass(d.options.controlButtonClass).append(a("<span/>").addClass(d.options.controlButtonSpanClass)).append(" "+f);b.hasClass(f)&&g.addClass(d.options.gmDangerClass),c.push(g[0].outerHTML)});var e=a("<div/>").addClass("gm-rowSettingsDrawer").addClass(d.options.gmToolClass).addClass(d.options.gmClearClass).prepend(a("<div />").addClass(d.options.gmBtnGroup).addClass(d.options.gmFloatLeft).html(c.join(""))).append(a("<div />").addClass("pull-right").html(a("<label />").html("Row ID ").append(a("<input>").addClass("gm-rowSettingsID").attr({type:"text",placeholder:"Row ID",value:b.attr("id")}))));return e[0].outerHTML},d.generateColSettings=function(b){var c=[];a.each(d.options.colCustomClasses,function(e,f){var g=a("<button/>").addClass("gm-togglecolClass").addClass(d.options.controlButtonClass).append(a("<span/>").addClass(d.options.controlButtonSpanClass)).append(" "+f);b.hasClass(f)&&g.addClass(d.options.gmDangerClass),c.push(g[0].outerHTML)});var e=a("<div/>").addClass("gm-colSettingsDrawer").addClass(d.options.gmToolClass).addClass(d.options.gmClearClass).prepend(a("<div />").addClass(d.options.gmBtnGroup).addClass(d.options.gmFloatLeft).html(c.join(""))).append(a("<div />").addClass("pull-right").html(a("<label />").html("col ID ").append(a("<input>").addClass("gm-colSettingsID").attr({type:"text",placeholder:"col ID",value:b.attr("id")}))));return e[0].outerHTML},d.activateCols=function(b){b.addClass(d.options.gmEditClass),a.each(b,function(b,c){a(c).prepend(d.toolFactory(d.options.colButtonsPrepend)),a(c).append(d.toolFactory(d.options.colButtonsAppend))}),d.log("++ Activate Cols Ran")},d.deactivateCols=function(b){b.removeClass(d.options.gmEditClass).removeClass(d.options.gmEditClassSelected).removeClass("ui-sortable"),a.each(b.children(),function(b,c){a(c).hasClass(d.options.gmEditRegion)&&(""!==a(c).html()?a(c).contents().unwrap():a(c).remove())}),d.log("-- deActivate Cols Ran")},d.createCol=function(b){var c=a("<div/>").addClass(d.options.colClass).addClass(d.options.colDesktopClass+b).addClass(d.options.colTabletClass+b).addClass(d.options.colPhoneClass+b).addClass(d.options.gmEditClass).addClass(d.options.colAdditionalClass).html(d.toolFactory(d.options.colButtonsPrepend)).prepend(d.toolFactory(d.options.colButtonsPrepend)).append(d.toolFactory(d.options.colButtonsAppend));return d.log("++ Created Column "+b),c},d.addEditableAreaClick=function(b){var c="<!--"+d.options.gmEditRegion+"-->",e="<!--/"+d.options.gmEditRegion+"-->",f=null;a("."+d.options.gmToolClass+":last",b).before(f=a("<div>").addClass(d.options.gmEditRegion+" "+d.options.contentDraggableClass).append(d.options.controlContentElem+'<div class="'+d.options.gmContentRegion+'"><p>New Content</p></div>')).before(e).prev().before(c),d.initNewContentElem(f)},d.initNewContentElem=function(b){var c=null;c="undefined"==typeof b?d.$el.find("."+d.options.colClass):b.closest("."+d.options.colClass),a.each(c,function(b,c){a(c).on("click",".gm-delete",function(b){a(this).closest("."+d.options.gmEditRegion).remove(),d.resetCommentTags(c),b.preventDefault()}),a(c).sortable({items:"."+d.options.contentDraggableClass,axis:"y",placeholder:d.options.rowSortingClass,handle:"."+d.options.controlMove,forcePlaceholderSize:!0,opacity:.7,revert:!0,tolerance:"pointer",cursor:"move",stop:function(b,c){d.resetCommentTags(a(c.item).parent())}})})},d.resetCommentTags=function(b){var c="<!--"+d.options.gmEditRegion+"-->",e="<!--/"+d.options.gmEditRegion+"-->";d.clearComments(b),a("."+d.options.gmEditRegion,b).before(c).after(e)},d.selectColClick=function(b,c){a(c).toggleClass("fa fa-square-o fa fa-check-square-o"),a(c).hasClass("fa-check-square-o")?a(b).addClass(d.options.gmEditClassSelected):a(b).removeClass(d.options.gmEditClassSelected)},d.editableAreaFilter=function(b,c){if(c){var e="<!--"+d.options.gmEditRegion+"-->",f="<!--/"+d.options.gmEditRegion+"-->",g=new RegExp("(?:"+e+")\\s*([\\s\\S]+?)\\s*(?:"+f+")","g"),h=a(b).html(),i=e+'<div class="'+d.options.gmEditRegion+" "+d.options.contentDraggableClass+'">'+d.options.controlContentElem+'<div class="'+d.options.gmContentRegion+'">$1</div></div>'+f;h=h.replace(g,i),a(b).html(h),d.log("editableAreaFilter init ran")}else a("."+d.options.controlNestedEditable,b).remove(),a("."+d.options.gmContentRegion).contents().unwrap(),d.log("editableAreaFilter deinit ran")},d.toolFactory=function(b){var c=a("<div/>").addClass(d.options.gmToolClass).addClass(d.options.gmClearClass).html(d.buttonFactory(b));return c[0].outerHTML},d.buttonFactory=function(b){var c=[];return a.each(b,function(a,b){b.btnLabel="undefined"==typeof b.btnLabel?"":b.btnLabel,b.title="undefined"==typeof b.title?"":b.title,c.push("<"+b.element+" title='"+b.title+"' class='"+b.btnClass+"'><span class='"+b.iconClass+"'></span>&nbsp;"+b.btnLabel+"</"+b.element+"> ")}),c.join("")},d.generateButtonClass=function(b){var c="";return a.each(b,function(a,b){c=c+"-"+b}),c},d.generateClickHandler=function(a){var b="a.add"+d.generateButtonClass(a),c=d.$el.find("#"+d.options.canvasId);d.$el.on("click",b,function(e){d.log("Clicked "+b),c.prepend(d.createRow(a)),d.reset(),e.preventDefault()})},d.rteControl=function(b,c){switch(d.log("RTE "+d.options.rte+" "+b),b){case"init":"undefined"!=typeof window.CKEDITOR&&(d.options.rte="ckeditor",d.log("++ CKEDITOR Found"),window.CKEDITOR.disableAutoInline=!0),"undefined"!=typeof window.tinymce&&(d.options.rte="tinymce",d.log("++ TINYMCE Found"));break;case"attach":switch(d.options.rte){case"tinymce":c.hasClass("mce-content-body")||c.tinymce(d.options.tinymce.config);break;case"ckeditor":a(c).ckeditor(d.options.ckeditor);break;default:d.log("No RTE specified for attach")}break;case"stop":switch(d.options.rte){case"tinymce":window.tinymce.remove(),d.log("-- TinyMCE destroyed");break;case"ckeditor":for(var e in window.CKEDITOR.instances)window.CKEDITOR.instances[e].destroy();d.log("-- CKEDITOR destroyed");break;default:d.log("No RTE specified for stop")}break;default:d.log("No RTE Action specified")}},d.reset=function(){d.log("~~RESET~~"),d.deinitCanvas(),d.initCanvas()},d.cleanup=function(){var a,b;a=d.$el.find("#"+d.options.canvasId),b="visual"!==d.mode?a.find("textarea").val():a.html(),a.html(d.cleanSubstring(d.options.classRenameSuffix,b,"")),a.find(d.options.colSelector).removeAttr("style").removeAttr("spellcheck").removeClass("mce-content-body").end().find("img").removeAttr("style").addClass("img-responsive").removeAttr("data-cke-saved-src").removeAttr("data-mce-src").end().find("."+d.options.gmToolClass).remove(),d.rteControl("stop"),d.log("~~Cleanup Ran~~")},d.log=function(a){d.options.debug&&void 0!==window.console&&window.console.log(a)},d.init()},a.gridmanager.defaultOptions={debug:0,colSelectEnabled:!0,editableRegionEnabled:!0,autoEdit:!0,remoteURL:"/replace-with-your-url",cssInclude:"//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css",filterCallback:null,canvasId:"gm-canvas",controlId:"gm-controls",controlMove:"gm-move",controlNestedEditable:"gm-controls-element",controlButtons:[[12],[6,6],[4,4,4],[3,3,3,3],[2,2,2,2,2,2],[2,8,2],[4,8],[8,4]],customControls:{global_row:[],global_col:[]},controlButtonClass:"btn  btn-xs  btn-primary",controlButtonSpanClass:"fa fa-plus-circle",controlAppend:"<div class='btn-group pull-right'><button title='Edit Source Code' type='button' class='btn btn-xs btn-primary gm-edit-mode'><span class='fa fa-code'></span></button><button title='Preview' type='button' class='btn btn-xs btn-primary gm-preview'><span class='fa fa-eye'></span></button>     <div class='dropdown pull-left gm-layout-mode'><button type='button' class='btn btn-xs btn-primary dropdown-toggle' data-toggle='dropdown'><span class='caret'></span></button> <ul class='dropdown-menu' role='menu'><li><a data-width='auto' title='Desktop'><span class='fa fa-desktop'></span> Desktop</a></li><li><a title='Tablet' data-width='768'><span class='fa fa-tablet'></span> Tablet</a></li><li><a title='Phone' data-width='640'><span class='fa fa-mobile-phone'></span> Phone</a></li></ul></div>    <button type='button' class='btn  btn-xs  btn-primary dropdown-toggle' data-toggle='dropdown'><span class='caret'></span><span class='sr-only'>Toggle Dropdown</span></button><ul class='dropdown-menu' role='menu'><li><a title='Save'  href='#' class='gm-save'><span class='fa fa-save'></span> Save</a></li><li><a title='Reset Grid' href='#' class='gm-resetgrid'><span class='fa fa-trash-o'></span> Reset</a></li></ul></div>",controlContentElem:'<div class="gm-controls-element"> <a class="gm-move fa fa-arrows" href="#" title="Move"></a> <a class="gm-delete fa fa-times" href="#" title="Delete"></a> </div>',gmEditClass:"gm-editing",gmEditClassSelected:"gm-editing-selected",gmEditRegion:"gm-editable-region",gmContentRegion:"gm-content",gmToolClass:"gm-tools",gmClearClass:"clearfix",gmFloatLeft:"pull-left",gmFloatRight:"pull-right",gmBtnGroup:"btn-group",gmDangerClass:"btn-danger",rowClass:"row",rowSelector:"div.row",rowSortingClass:"alert-warning",rowButtonsPrepend:[{title:"Move",element:"a",btnClass:"gm-moveRow pull-left",iconClass:"fa fa-arrows "},{title:"New Column",element:"a",btnClass:"gm-addColumn pull-left  ",iconClass:"fa fa-plus"},{title:"Row Settings",element:"a",btnClass:"pull-right gm-rowSettings",iconClass:"fa fa-cog"}],rowButtonsAppend:[{title:"Remove row",element:"a",btnClass:"pull-right gm-removeRow",iconClass:"fa fa-trash-o"}],rowCustomClasses:["example-class","test-class"],colClass:"column",contentDraggableClass:"gm-content-draggable",addResponsiveClasses:!0,addDefaultColumnClass:!0,colDesktopClass:"col-md-",colTabletClass:"col-sm-",colPhoneClass:"col-xs-",colDesktopSelector:"div[class*=col-md-]",colTabletSelector:"div[class*=col-sm-]",colPhoneSelector:"div[class*=col-xs-]",classRenameSuffix:"-clsstmp",layoutDefaultMode:"auto",currentClassMode:"",colAdditionalClass:"",colButtonsPrepend:[{title:"Move",element:"a",btnClass:"gm-moveCol pull-left",iconClass:"fa fa-arrows "},{title:"Column Settings",element:"a",btnClass:"pull-right gm-colSettings",iconClass:"fa fa-cog"},{title:"Make Column Narrower",element:"a",btnClass:"gm-colDecrease pull-left",iconClass:"fa fa-minus"},{title:"Make Column Wider",element:"a",btnClass:"gm-colIncrease pull-left",iconClass:"fa fa-plus"}],colButtonsAppend:[{title:"Add Nested Row",element:"a",btnClass:"pull-left gm-addRow",iconClass:"fa fa-plus-square"},{title:"Remove Column",element:"a",btnClass:"pull-right gm-removeCol",iconClass:"fa fa-trash-o"}],colCustomClasses:["example-col-class","test-class"],colMax:12,colResizeStep:1,tinymce:{config:{inline:!0,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table contextmenu paste"],toolbar:"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"}},ckeditor:{customConfig:""}},a.fn.gridmanager=function(b){return this.each(function(){var c=a(this),d=new a.gridmanager(this,b);c.data("gridmanager",d)})},a.expr[":"].regex=function(a,b,c){var d=c[3].split(","),e=/^(data|css):/,f={method:d[0].match(e)?d[0].split(":")[0]:"attr",property:d.shift().replace(e,"")},g="ig",h=new RegExp(d.join("").replace(/^\s+|\s+$/g,""),g);return h.test(jQuery(a)[f.method](f.property))}}(jQuery);